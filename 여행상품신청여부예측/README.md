# ✈️여행 상품 신청 여부 예측
[데이콘 Basic](https://dacon.io/competitions/official/235959/overview/description)에서 진행한 여행 상품 신청 여부 예측 경진대회
## 목차
[1. 목적 및 심사기준](#목적-및-심사-기준)<br>
[2. 머신러닝](#머신러닝)<br>
[3. 데이터 분석](#데이터-분석)<br>

***
## 목적 및 심사 기준
- 목적 : 나이, 성별, 월 수입 등의 고객 데이터를 이용해서 여행 상품 신청 여부를 예측
- 심사 기준 : accuracy(실제 데이터에서 예측 데이터가 얼마나 같은지 판단하는 지표)
## 머신러닝
- 최종 제출 점수 : 0.88
- 사용해 본 머신러닝 : Logistic Regression, Random Forest
- [시도 1](https://github.com/nxkyoungeun/DataStudy/blob/main/%EC%97%AC%ED%96%89%EC%83%81%ED%92%88%EC%8B%A0%EC%B2%AD%EC%97%AC%EB%B6%80%EC%98%88%EC%B8%A1/%EC%8B%9C%EA%B0%81%ED%99%94_LogisticRegression.ipynb) : 라벨 인코딩 후 Logistic Regression
  - 결측치 처리 : 컬럼이 숫자형 변수인 경우에는 0으로, 문자형인 경우에는 "Unknown"을 사용
  - 최종 점수 : 0.83
- [시도 2](https://github.com/nxkyoungeun/DataStudy/blob/main/%EC%97%AC%ED%96%89%EC%83%81%ED%92%88%EC%8B%A0%EC%B2%AD%EC%97%AC%EB%B6%80%EC%98%88%EC%B8%A1/_RandomForest01.ipynb) : 라벨 인코딩, MinMax 스케일링 후 Random Forest
  - 결측치 처리 : 
    - Age(나이), NumberOfFollowups(영업 사원의 프레젠테이션 후 이루어진 후속 조치 수), PreferredPropertyStar(선호 호텔 숙박업소 등급), NumberOfTrips(평균 연간 여행 횟수), NumberOfChildrenVisiting(함께 여행을 계획 중인 5세 미만의 어린이 수), MonthlyIncome(월 급여) : 평균 값(mean)
    - TypeofContact(고객의 제품 인지 방법 (회사의 홍보 or 스스로 검색)) : "Unknown"
    - DurationOfPitch(영업 사원이 고객에게 제공하는 프레젠테이션 기간) : 0
  - 최종 점수 : 0.88
- [시도 3](https://github.com/nxkyoungeun/DataStudy/blob/main/%EC%97%AC%ED%96%89%EC%83%81%ED%92%88%EC%8B%A0%EC%B2%AD%EC%97%AC%EB%B6%80%EC%98%88%EC%B8%A1/_RandomForest02.ipynb) : 라벨 인코딩, MinMax 스케일링 후 Random Forest
  - 결측치 처리 : 
    - Age(나이) : Designation((직업의) 직급)과 관련있다 생각하고 Age가 Na인 데이터의 Designation을 확인하고 Designation에 맞는 평균 나이를 넣어줌
    - 나머지 결측치는 시도 2와 같은 처리 방법을 사용
  - 불필요한 컬럼 삭제 : id 컬럼, 영업사원의 프레젠테이션과 만족도는 큰 영향을 미치지 못하므로 제거
  - grid search 를 사용하여 최적의 파라미터 탐색 : 
    - 베스트 평균 정확도 :  0.8517
    - 베스트 파라미터 : {'max_depth': 12, 'min_samples_leaf': 3, 'min_samples_split': 3, 'n_estimators': 200}
  - 최종 점수 : 0.84
- 느낀점 : 학습을 시키기 전 필요한 컬럼과 불필요한 컬럼을 구별하기 위한 더 자세한 데이터 분석이 필요합니다. 이후 학습에 사용할 컬럼을 재선정하고 Random Forest를 제외한 앙상블 모델을 시도해 더 발전시켜 나갈 예정입니다.
***
## 데이터 분석
- 여행 상품을 기획과 현재 영업 방향을 개선하기 위한 방법을 제시했습니다.[🔗코드링크](https://github.com/nxkyoungeun/DataStudy/blob/main/%EC%97%AC%ED%96%89%EC%83%81%ED%92%88%EC%8B%A0%EC%B2%AD%EC%97%AC%EB%B6%80%EC%98%88%EC%B8%A1/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B6%84%EC%84%9D.ipynb)
- 현재 데이터를 바탕으로 연령대별 여행 상품을 기획한다면 패키지를 어떻게 구성해야하는지 알아보았습니다.
- 현재 데이터를 확인해 보면 영업사원이 프레젠테이션을 통해 영업을 합니다. 그렇다면 현재 여행 상품의 신청자를 늘리려면 영업사원의 프레젠테이션이 어떤 방향으로 개선되어야 할지 알아보았습니다.
### 데이터 분석 결론
✅ 현 여행 상품은 30대와 40대 대상 여행 상품이고, 자차가 필요 없는 여행 상품으로 추측된다.   
✅ 만약 20대를 대상으로 기획한다면 숙박 호텔 등급은 3등급 또는 5등급으로 이루어졌으며 자차가 필요 없는 여행 상품으로 기획해야 할 것이다.  
✅ 프레젠테이션 만족도 평가를 높이 받고 싶다면 평균 프레젠테이션 기간을 14일 이상으로 잡는 것이 좋다.  
✅ 하지만, 만족도가 1점인 경우에도 평균 프레젠테이션 기간이 15일에 가까우므로 기간뿐만이 아니라 다른 서비스에도 더욱 신경을 써야 할 것이다.  
✅ 영업사원의 후속 조치가 많을수록 해당 여행 패키지를 신청하는 사람의 비율이 높아지고 있으므로 후속 조치 횟수를 늘리는 것을 고려해 볼 필요가 있다.  
✅ 가성비가 중요한 고객에게는 Standard 등급보다는 Basic 등급의 상품을 제시하는 것이 좋다.  
✅ 고급 상품을 찾는 고객에게는 Deluxe 등급의 상품을 제시하는 것이 좋다.  
✅ King 등급과 Super Deluxe 등급은 연령대, 동반 어린이 유무, 월 수입 등을 고려하여 제시한다면 여행 패키지 신청 전환율이 상승할 것이라 생각한다.  

### 1. 연령대별 어떤 상품을 추천하면 좋을까?
- 선호 호텔 숙박업소 등급, 자동차 보유여부, 여행 패키지 신청 여부를 통해 연령대별로 어떤 상품을 기획하면 좋을지 알아보겠습니다.
#### 1-1. Age(나이) 분포
![image](https://user-images.githubusercontent.com/96903792/196927357-01696c6c-80f4-45be-bd77-458827d7f926.png)<br>
- Age를 그룹화할 때 10대와 60대 이상은 데이터 수가 상대적으로 적어 10대는 20대에 포함, 60대 이상은 50대에 포함하였습니다.
- 현재 데이터에는 30대와 40대가 가장 많습니다.
- 현재 여행 상품은 30대와 40대를 겨냥한 상품인 것으로 추측합니다.
#### 1-2. PreferredPropertyStar(선호 호텔 숙박업소 등급)
![image](https://user-images.githubusercontent.com/96903792/196934914-bead343f-469d-4ad4-9529-3febc1887177.png)<br>
- 선호 호텔 숙박업소 등급은 3등급이 가장 많음으로 나타났습니다.
- 4등급과 5등급의 선호도 차이는 50대 이상을 제외한 나이대에서 크게 차이나지 않음을 알 수 있습니다.
- 따라서 여행 패키지를 신청한 사람들 중 선호하는 호텔 등급을 알아보는 것이 좋을 것 같습니다.<br>
![image](https://user-images.githubusercontent.com/96903792/196935660-2fec06a9-6f96-4ed8-a9aa-875bb9168b52.png)<br>
- 여행 패키지를 신청한 사람들 중 20대(10대 포함)와 30대는 3등급, 5등급, 4등급 순으로 선호하는 것을 알 수 있습니다.
- 따라서 **20대(10대 포함)와 30대를 대상**으로 한다면 **3등급 호텔**과 **5등급 호텔**이 포함된 여행 패키지를, **40대 이상이 대상**이라면 **3등급 호텔**과 **4등급 호텔**이 포함된 여행 패키지를 기획하는 것이 좋을 것입니다.
#### 1-3. OwnCar(자동차 보유 여부)
- 자동차를 보유하고 있다면 국내 여행 패키지를 판매할 수 있을 것입니다.
- 전체 데이터에서 자동차를 보유한 사람이 자동차를 보유하지 않은 사람보다 많음을 알 수 있었습니다.
- 먼저 어느 나이대가 가장 많이 자동차를 보유하였는지 알아보겠습니다.<br>
![image](https://user-images.githubusercontent.com/96903792/196936504-74a3cfa1-fe79-4ce4-949b-83102482952f.png)  
- 자동차를 보유한 사람들의 나이대는 역시 30대와 40대의 수가 많음으로 나타났습니다.
- 이는 전체 데이터에 30대와 40대의 수가 많기 때문에 당연한 결과입니다.
- 조금 더 유의미한 분석을 위해 나이대별로 자동차를 보유한 사람과 보유하지 않은 사람의 비율을 알아보겠습니다.  
![image](https://user-images.githubusercontent.com/96903792/196936756-aa274716-faac-4f06-a709-2a7a34fd9a29.png)
- 20대(10대 포함)의 경우 다른 나이대에 비하여 자동차를 보유한 사람의 비율이 낮습니다.
- 따라서 **20대를 대상**으로 한다면 **개인 자동차를 이용해야하는 여행 상품을 기획하는 것을 피해야 할 것**입니다.
- 30대 이상을 대상으로 한다면 개인 자동차를 이용할 수 있는 국내 여행 상품을 기획해 볼 만합니다.
- 그 다음으로는 자동차를 보유한 여부에 따라 현 여행 패키지를 신청한 사람이 얼마나 되는지 나이대별로 알아보겠습니다.<br>
![image](https://user-images.githubusercontent.com/96903792/196937486-5fb46d42-a05f-4317-9371-62ea44119f43.png)<br>
![image](https://user-images.githubusercontent.com/96903792/196937752-d396c179-a3df-4c9a-a105-a301720d7b33.png)<br>
- 20대(10대 포함)의 경우 자동차를 보유하지 않은 비율이 다른 나이대에 비해 가장 높았음에도 불구하고, 자동차를 보유하지 않은 사람들 중 현 여행 패키지를 신청한 비율이 다른 나이대에비해 높았습니다.
- 따라서 **현 여행상품은 개인 자동차를 이용하지 않고 진행되는 여행**일 것이라 추측해봅니다.
### 2. 영업사원을 통한 영업을 개선하는 방법은?
- DurationOfPitch(영업 사원이 고객에게 제공하는 프레젠테이션 기간)과 NumberOfFollowups(영업 사원의 프레젠테이션 후 이루어진 후속 조치 수), ProductPitched(영업 사원이 제시한 상품)와 여행 패키지 신청 여부를 알아보겠습니다.
#### 2-1. DurationOfPitch(영업 사원이 고객에게 제공하는 프레젠테이션 기간)
![image](https://user-images.githubusercontent.com/96903792/196941159-5435bc25-486a-477a-aa33-aabb019dc4d1.png)<br>
- 영업사원의 프레젠테이션 기간은 대부분 17일 안에 끝나게 됩니다.
- 여행 패키지 신청 비율을 보면 18일부터 큰 변동이 있습니다. 이는 데이터의 수가 상대적으로 적어서 영향을 끼친 것일 수도 있고 영업사원의 프레젠테이션 기간이 여행 패키지 신청에 큰 영향을 미치지 않는다고도 생각할 수 있습니다.
- 6일에서 17일 사이의 여행 패키지 신청 비율을 보면 완만하며 큰 변동폭이 없습니다.
- 프레젠테이션 만족도에 따른 평균 프레젠테이션 기간을 알아보겠습니다.<br>
![image](https://user-images.githubusercontent.com/96903792/196941466-457f351a-0113-406f-b091-3794395f7f47.png)<br>
- 만족도가 5점인 경우 평균 프레젠테이션 기간이 15일 입니다. 프레젠테이션 만족도 평가를 높이 받고 싶다면 평균 프레젠테이션 기간을 14일 이상으로 잡는 것이 좋겠습니다.
- 하지만 만족도가 1점인 경우에도 평균 프레젠테이션 기간이 15일에 가깝습니다. 그러므로 기간 뿐만이 아니라 다른 서비스에도 더욱 신경을 써야할 것입니다.
- 영업사원의 프레젠테이션 기간은 14일에서 17일 사이로 진행하고 추가적으로 다른 서비스의 품질을 높은 것이 중요할 것으로 보입니다.
#### 2-2. NumberOfFollowups(영업 사원의 프레젠테이션 후 이루어진 후속 조치 수)
![image](https://user-images.githubusercontent.com/96903792/196942054-09907e84-3998-445e-af5e-e43ecabcd9d5.png)<br>
- 영업사원의 후속 조치는 3회에서 4회 정도 이루어집니다.
- 영업사원의 후속 조치가 많을수록 해당 여행 패키지를 신청하는 사람의 비율이 높아지고 있습니다.
- 영업사원의 지속적인 관리가 여행 패키지 신청으로 이어지므로 후속 조치 횟수를 늘리는 것을 고려해볼 필요가 있습니다.
#### 2-3. ProductPitched(영업 사원이 제시한 상품)
![image](https://user-images.githubusercontent.com/96903792/196942315-030e3d1d-0f7e-4a31-bac5-14b7b870a124.png)<br>
- 영업사원이 제시한 상품 중 가장 많이 제시한 상품은 Basic입니다. 또한 여행 패키지 신청으로 이어진 비율도 가장 높습니다.
- 가성비가 중요한 고객에게는 Standard 등급보다는 Basic 등급의 상품을 제시하는 것이 좋습니다.
- 그리고 고급 상품을 찾는 고객에게는 Deluxe 등급의 상품을 제시하는 것이 좋습니다.
- 추가적으로 영업사원이 제시한 상품별 평균 프레젠테이션 만족도를 알아보겠습니다.<br>
![image](https://user-images.githubusercontent.com/96903792/196942665-d5ffc589-6300-44b8-a406-12bb6c5881c0.png)
- King 등급과 Super Deluxe 등급의 신청 전환율은 낮았지만 평균 프레젠테이션 만족도는 다른 등급에 비해 높습니다.
- 따라서 King 등급과 Super Deluxe 등급은 연령대, 동반 어린이 유무, 월 수입 등을 고려하여 제시한다면 여행 패키지 신청 전환율이 상승할 것이라 생각합니다.


